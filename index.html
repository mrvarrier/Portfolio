<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="sWxVOxFb1Bz0dk1wHesjJvt12wcUPQ036TOO1C-N00Y" />

    <!-- Favicon - Preload critical icons -->
    <link rel="preload" href="icon/favicon-32x32.png" as="image" type="image/png">
    <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
    <link rel="manifest" href="icon/site.webmanifest">

    <meta name="description" content="Manish Varrier | UX Designer & Researcher combining technical expertise with human-centered design. Portfolio showcasing user research, digital product design, and engineering-informed UX solutions.">

    <title>Manish - UX Designer & Researcher</title>
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    
    <!-- Preload critical fonts with font-display:swap -->
    <link rel="preload" as="font" href="https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2" type="font/woff2" crossorigin>
    
    <!-- Preload hero images -->
    <link rel="preload" as="image" href="zenodo.webp">
    
    <!-- Inline critical CSS -->
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        /* Typewriter font class */
        .lucida-typewriter {
            font-family: 'Lucida Sans Typewriter', 'Courier New', monospace;
            font-weight: normal;
        }

        body {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #fff;
            overflow-x: hidden;
        }
        
        .content-wrapper {
            padding: 0 5px 0 100px;
            position: relative;
        }
        
        /* Header section */
        header {
            margin-top: 110px;
            margin-bottom: 140px;
            position: relative;
        }
        
        /* Navigation - maintaining original position */
        nav {
            display: flex;
            justify-content: flex-end;
            padding: 30px 30px 10px 0;
            background-color: transparent;
            transition: opacity 0.3s ease;
        }

        nav a {
            margin-left: 50px;
            text-decoration: none;
            color: #000;
            font-size: 16px;
            font-family: 'Lucida Sans Typewriter', 'Courier New', monospace;
            font-weight: normal;
            position: relative;
        }
        
        nav a::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 1px;
            bottom: -3px;
            left: 0;
            background-color: #000;
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.4s ease;
        }
        
        nav a:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }
        
        /* Title with subtle reveal animation - maintaining original appearance */
        .title {
            font-size: 56px;
            line-height: 1.2;
            margin-bottom: 10px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards;
            font-weight: normal;
        }
        
        .title:nth-child(2) {
            animation-delay: 0.3s;
        }
        
        /* Subtitle with subtle animation */
        .subtitle {
            margin-top: 20px;
            max-width: 600px;
            font-size: 16px;
            line-height: 1.5;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards 0.6s;
        }

        /* Social links */
        .social-links {
            display: flex;
            margin-top: 40px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards 0.6s;
        }

        .social-links a {
            width: 24px;
            height: 24px;
            background-color: #000;
            border-radius: 50%;
            margin-right: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            text-decoration: none;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }
        
        .social-links a:hover {
            transform: translateY(-3px);
            background-color: #333;
        }

        .disabled-link {
            display: inline-block;
            color: #888;
            text-decoration: none;
            cursor: not-allowed;
            opacity: 0.7;
            pointer-events: none;
            font-weight: 500;
        }

        /* Work section */
        .work-section h2 {
            font-size: 42px;
            margin-bottom: 50px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards 0.8s;
            font-weight: normal;
        }

        /* Enhanced case studies with more sophisticated interactions */
        .case-studies {
            display: flex;
            flex-direction: column;
            gap: 100px;
            margin-bottom: 140px;
        }

        .case-study {
            display: flex;
            gap: 70px;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 2s cubic-bezier(0.16, 1, 0.3, 1), 
                        transform 2s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
        }
        
        .case-study.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .case-study-img {
            border-radius: 15px;
            width: 500px;
            height: 300px;
            background-color: #ddd;
            flex-shrink: 0;
            overflow: hidden;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            position: relative;
            display: block;
        }
        
        .case-study-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            transition: transform 0.6s ease;
        }

        .case-study-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .case-study-content h3 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .case-study-content p {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
            max-width: 460px;
        }

        .case-study-content a {
            color: #000;
            text-decoration: underline;
            font-size: 16px;
            font-weight: 500;
            position: relative;
            transition: all 0.3s ease;
            padding-right: 25px;
            display: inline-block;
        }

        .case-study-content a.with-arrow::after {
            content: "â†’";
            position: absolute;
            right: 0;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.3s ease;
        }

        .case-study-content a.with-arrow:hover {
            padding-right: 30px;
        }

        .case-study-content a.with-arrow:hover::after {
            opacity: 1;
            transform: translateX(0);
        }
        
        .case-study-content a.disabled-link::after {
            content: "";
        }

        .case-study.visible .case-study-content h3,
        .case-study.visible .case-study-content p,
        .case-study.visible .case-study-content a {
            opacity: 1;
        }

        .case-study:hover .case-study-img {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 0 20px 30px rgba(0,0,0,0.08);
        }

        .case-study:hover .case-study-img img {
            transform: scale(1.05);
        }
        
        .case-study:hover .case-study-img::before {
            background: rgba(0,0,0,0.02);
        }

        /* Enhanced Footer */
        footer {
            text-align: center;
            padding: 50px 0;
            font-size: 14px;
            color: #666;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards 0.3s;
        }

        /* Enhanced page transition overlay */
        .manual-page-transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
            transform: translateY(100%);
            transition: transform 0.6s cubic-bezier(0.7, 0, 0.3, 1), 
                        opacity 0.6s cubic-bezier(0.7, 0, 0.3, 1);
        }

        .manual-page-transition-overlay.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Enhanced Animations */
        @keyframes revealFromBottom {
            0% {
                opacity: 0;
                transform: translateY(40px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes lineDrawIn {
            0% {
                transform: scaleX(0);
            }
            100% {
                transform: scaleX(1);
            }
        }
        
        /* Parallax effect for case study elements */
        .parallax {
            transition: transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        
        /* Subtle text reveal animation for case studies */
        @keyframes textReveal {
            0% {
                clip-path: inset(0 100% 0 0);
            }
            100% {
                clip-path: inset(0 0 0 0);
            }
        }
        
        /* Enhanced responsive styling */
        @media (max-width: 992px) {
            .case-study {
                flex-direction: column;
                gap: 40px;
            }
            
            .case-study-img {
                width: 100%;
                height: auto;
                aspect-ratio: 16/9;
            }
            
            .content-wrapper {
                padding: 0 20px 0 40px;
            }
        }
        
        @media (max-width: 768px) {
            body {
                padding: 0 20px;
            }
            
            .content-wrapper {
                padding: 0 10px;
            }
            
            .title {
                font-size: 42px;
            }
            
            .work-section h2 {
                font-size: 32px;
                margin-bottom: 50px;
            }
            
            nav {
                margin-right: 0;
                padding: 20px 20px 10px 0;
            }
            
            nav a {
                margin-left: 30px;
            }
        }
        
        @media (max-width: 576px) {
            nav {
                justify-content: center;
            }
            
            .title {
                font-size: 32px;
            }
            
            .case-studies {
                gap: 60px;
            }
        }
        
        /* Minimal Font Awesome icons */
        .fab, .far {
            display: inline-block;
            font-style: normal;
            font-variant: normal;
            text-rendering: auto;
            line-height: 1;
        }
        .fab.fa-linkedin-in:before { content: "\f0e1"; }
        .far.fa-envelope:before { content: "\f0e0"; }
        .fab.fa-instagram:before { content: "\f16d"; }
        
        /* Password protection styles */
        .lock-icon {
            position: relative;
            display: inline-flex;
            align-items: center;
            color: #000;
            text-decoration: underline;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            padding-right: 25px;
        }

        .lock-icon::after {
            content: "ðŸ”’";
            position: absolute;
            right: 0;
            opacity: 1;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .password-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .password-field {
            position: absolute;
            left: 0;
            top: 0;
            display: flex;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            width: 100%;
            max-width: 300px;
            background-color: #fff;
            z-index: 5;
        }

        .password-field.active {
            opacity: 1;
            pointer-events: all;
        }

        .password-field input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            background-color: #fff;
            transition: all 0.3s ease;
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .password-field input:focus {
            outline: none;
            border-color: #000;
            box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
        }

        .password-field button {
            background: none;
            border: none;
            cursor: pointer;
            margin-left: -40px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

        .password-field button:hover {
            transform: translateX(3px);
        }

        .arrow-icon {
            font-size: 20px;
            color: #000;
        }

        .password-trigger {
            opacity: 1;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .password-trigger.hide {
            opacity: 0;
            transform: scale(0.9);
            pointer-events: none;
        }

        /* Error feedback animation */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .password-field.error input {
            border-color: #ff3860;
            animation: shake 0.6s cubic-bezier(.36,.07,.19,.97) both;
        }

        /* Success animation */
        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .password-field.success input {
            border-color: #48c774;
            animation: successPulse 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Password toggle visibility button */
        .password-toggle {
            position: absolute;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            z-index: 10;
            transition: none !important;
            padding: 0;
            margin: 0;
        }

        .password-toggle:hover,
        .password-toggle:active,
        .password-toggle:focus {
            transform: translateY(-50%) !important;
            right: 40px !important;
            outline: none;
            transition: none !important;
        }

        /* Eye icons */
        .eye-icon, .eye-slash-icon {
            width: 20px;
            height: 20px;
            stroke: #666;
            stroke-width: 2;
            fill: none;
            transition: none !important;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        .password-toggle:hover .eye-icon,
        .password-toggle:hover .eye-slash-icon {
            transform: translate(-50%, -50%) !important;
        }

        /* Cursor styles */
        .interactive {
            cursor: pointer;
        }

        /* Password field container */
        #zenodo-img {
            cursor: pointer;
        }
    </style>
    
    <!-- Load non-critical CSS with low priority -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    
    <!-- Add cache control headers -->
    <meta http-equiv="Cache-Control" content="max-age=31536000, immutable">
    
    <!-- Inline critical Font Awesome icons instead of loading the entire library -->
    <style>
        @font-face {
            font-family: 'FontAwesome';
            font-display: swap;
            src: url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/webfonts/fa-brands-400.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        .fab {
            font-family: 'FontAwesome';
        }
        @font-face {
            font-family: 'FontAwesomeRegular';
            font-display: swap;
            src: url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/webfonts/fa-regular-400.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        .far {
            font-family: 'FontAwesomeRegular';
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav id="main-nav">
        <a href="index.html">Home</a>
        <a href="about_me/about.html">About</a>
        <a href="resume.html">Resume</a>
    </nav>
    
    <div class="content-wrapper">
        <!-- Header section -->
        <header id="home">
            <h1 class="title lucida-typewriter">Hi</h1>
            <h1 class="title lucida-typewriter">I'm Manish</h1>
            <p class="subtitle">I am a UX Designer with the unique ability to translate business requirements into elegant solutions that developers love to build.</p>
            
            <!-- Social links -->
            <div class="social-links">
                <a href="https://linkedin.com/in/manish-varrier" target="_blank" rel="noopener" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                <a href="mailto:manishvarrier@gmail.com" title="Email"><i class="far fa-envelope"></i></a>
                <a href="https://instagram.com/_manishr_" target="_blank" rel="noopener" title="Instagram"><i class="fab fa-instagram"></i></a>
            </div>
        </header>

        <!-- Work section -->
        <section class="work-section">
            <h2 class="lucida-typewriter">I've worked on</h2>
            
            <div class="case-studies">
                <!-- Case study 1 - Zenodo with password protection -->
                <div class="case-study">
                    <a class="case-study-img" id="zenodo-img">
                        <img src="zenodo.webp" alt="Zenodo" width="500" height="300">
                    </a>
                    <div class="case-study-content">
                        <h3>Zenodo</h3>
                        <p>Designed and implemented a Zenodo archival integration for the Correlate system, enabling seamless research data publishing to meet European consortium requirements. Conducted technical API assessments, built custom publishing workflows supporting both draft and direct publication paths, and created an intuitive metadata input interface.</p>
                        <div class="password-container">
                            <a id="password-trigger" class="interactive lock-icon">View Case Study</a>
                            <div class="password-field">
                                <input type="password" id="zenodo-password" placeholder="Enter password" autocomplete="off">
                                <button type="button" class="password-toggle" aria-label="Toggle password visibility">
                                    <svg class="eye-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                    <svg class="eye-slash-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="display:none;">
                                        <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                                        <line x1="1" y1="1" x2="23" y2="23"></line>
                                    </svg>
                                </button>
                                <button id="submit-password" aria-label="Submit password">
                                    <span class="arrow-icon">â†’</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Case study 2 - With optimized loading -->
                <div class="case-study">
                    <a href="case-study-1/case-study-1.html" class="case-study-img">
                        <img src="empathly.webp" alt="Empath.ly" width="500" height="300" loading="lazy" decoding="async">
                    </a>
                    <div class="case-study-content">
                        <h3>Empath.ly</h3>
                        <p>Designed a video conferencing app with integrated emotional analytics, helping HR and marketing teams track emotional dynamics during meetings. Created a scannable dashboard for quick insights, leading to first place at HackHarvard 2022.</p>
                        <a href="case-study-1/case-study-1.html" class="interactive with-arrow">View Case Study</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <p>&copy; 2025 Manish. All rights reserved.</p>
        </footer>
    </div>

    <!-- Page transition overlay -->
    <div id="manual-page-transition-overlay" class="manual-page-transition-overlay"></div>

    <!-- Optimized and consolidated JS - enhanced with motion interactions -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Setup page transition with enhanced timing
            const viewCaseStudyLinks = document.querySelectorAll('.case-study-content a[href*="case-study"]');
            const caseStudyImageLinks = document.querySelectorAll('a.case-study-img[href*="case-study"]');
            const overlay = document.getElementById('manual-page-transition-overlay');
            const navLinks = document.querySelectorAll('nav a');
            
            // Function to handle transition with smoother animation
            function handleTransition(e) {
                e.preventDefault();
                const targetUrl = this.getAttribute('href');
                sessionStorage.setItem('isDirectTransitioning', 'true');
                overlay.classList.add('active');
                setTimeout(function() {
                    window.location.href = targetUrl;
                }, 600);
            }
            
            // Apply transition event listeners
            viewCaseStudyLinks.forEach(link => link.addEventListener('click', handleTransition));
            caseStudyImageLinks.forEach(link => link.addEventListener('click', handleTransition));
            navLinks.forEach(link => {
                if (link.getAttribute('href') !== 'index.html') {
                    link.addEventListener('click', handleTransition);
                }
            });
            
            // Initialize scroll position for navigation effects
            let lastScrollTop = 0;
            const nav = document.getElementById('main-nav');
            
            // Enhanced scroll handling for nav appearance/disappearance
            window.addEventListener('scroll', function() {
                const st = window.pageYOffset || document.documentElement.scrollTop;
                
                // Control nav visibility based on scroll direction
                if (st > 100) {
                    nav.classList.add('scrolled');
                    if (st > lastScrollTop && st > 300) {
                        // Scrolling down
                        nav.classList.add('hidden');
                    } else {
                        // Scrolling up
                        nav.classList.remove('hidden');
                    }
                } else {
                    nav.classList.remove('scrolled');
                }
                
                lastScrollTop = st <= 0 ? 0 : st;
            }, false);
            
            // Intersection Observer for case study animations with enhanced options
            const caseObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        // Staggered animation of child elements happens via CSS transitions
                    }
                });
            }, { 
                threshold: 0.1, 
                rootMargin: "0px 0px -100px 0px" 
            });

            document.querySelectorAll('.case-study').forEach(caseStudy => {
                caseObserver.observe(caseStudy);
            });
            
            // Check if we're coming from another page for smooth transition back
            if (sessionStorage.getItem('isDirectTransitioning') === 'true') {
                sessionStorage.removeItem('isDirectTransitioning');
                overlay.style.transform = 'translateY(0)';
                overlay.style.opacity = '1';
                
                setTimeout(function() {
                    overlay.style.transform = 'translateY(-100%)';
                    overlay.style.opacity = '0';
                }, 100);
            }
            
            // Preload images for smoother transitions
            function preloadImages() {
                const images = document.querySelectorAll('img');
                images.forEach(img => {
                    if (img.getAttribute('loading') !== 'lazy') {
                        const src = img.getAttribute('src');
                        if (src) {
                            const imageObj = new Image();
                            imageObj.src = src;
                        }
                    }
                });
            }
            
            preloadImages();
            
            // Password protection for Zenodo case study
            const passwordTrigger = document.getElementById('password-trigger');
            const passwordField = document.querySelector('.password-field');
            const zenodoPassword = document.getElementById('zenodo-password');
            const submitPassword = document.getElementById('submit-password');
            const zenodoImg = document.getElementById('zenodo-img');
            const passwordToggle = document.querySelector('.password-toggle');
            const eyeIcon = document.querySelector('.eye-icon');
            const eyeSlashIcon = document.querySelector('.eye-slash-icon');

            // Store the SHA-256 hash of the password instead of the plaintext
            // Replace this with your actual password hash generated using the tool
            const PASSWORD_HASH = "808bdababf39bde8beb6a062be99ee525439f5996b66b1e61ed9d4ce3c4ee08d"; // Hash for "test"

            // Function to convert a string to SHA-256 hash
            async function sha256(message) {
                // Encode the string as UTF-8
                const msgBuffer = new TextEncoder().encode(message);
                
                // Hash the message using SubtleCrypto
                const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
                
                // Convert the hash to a hex string
                const hashArray = Array.from(new Uint8Array(hashBuffer));
                const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                
                return hashHex;
            }

            // Function to handle password verification
            async function verifyPassword() {
                const enteredPassword = zenodoPassword.value;
                
                // Don't process empty passwords
                if (!enteredPassword.trim()) {
                    passwordField.classList.add('error');
                    zenodoPassword.placeholder = 'Please enter a password';
                    
                    setTimeout(() => {
                        passwordField.classList.remove('error');
                        zenodoPassword.placeholder = 'Enter password';
                    }, 1000);
                    return;
                }
                
                // Hash the entered password
                const enteredHash = await sha256(enteredPassword);
                
                if (enteredHash === PASSWORD_HASH) {
                    // Success state
                    passwordField.classList.add('success');
                    
                    // Show success message and redirect (using sessionStorage for one-time access)
                    setTimeout(() => {
                        // Create a one-time token that will be verified and immediately removed
                        sessionStorage.setItem('zenodoOneTimeAccess', Date.now().toString());
                        
                        // Redirect to zenodo case study
                        const overlay = document.getElementById('manual-page-transition-overlay');
                        overlay.classList.add('active');
                        setTimeout(() => {
                            window.location.href = 'zenodo/zenodo.html';
                        }, 600);
                    }, 800);
                } else {
                    // Error state
                    passwordField.classList.add('error');
                    zenodoPassword.value = '';
                    zenodoPassword.placeholder = 'Incorrect password';
                    
                    // Remove error class after animation completes
                    setTimeout(() => {
                        passwordField.classList.remove('error');
                        zenodoPassword.placeholder = 'Enter password';
                    }, 1000);
                }
            }

            // Toggle password field when clicking the link
            passwordTrigger.addEventListener('click', function(e) {
                e.preventDefault();
                passwordTrigger.classList.add('hide');
                passwordField.classList.add('active');
                zenodoPassword.focus();
            });

            // Handle submission
            submitPassword.addEventListener('click', verifyPassword);
            zenodoPassword.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    verifyPassword();
                }
            });

            // Also make the image clickable to open password field
            zenodoImg.addEventListener('click', function(e) {
                e.preventDefault();
                passwordTrigger.classList.add('hide');
                passwordField.classList.add('active');
                zenodoPassword.focus();
            });
            
            // Toggle password visibility
            passwordToggle.addEventListener('click', function(e) {
                e.preventDefault(); // Prevent any default behavior
                
                if (zenodoPassword.type === 'password') {
                    zenodoPassword.type = 'text';
                    eyeIcon.style.display = 'none';
                    eyeSlashIcon.style.display = 'block';
                } else {
                    zenodoPassword.type = 'password';
                    eyeIcon.style.display = 'block';
                    eyeSlashIcon.style.display = 'none';
                }
                
                // Refocus on password field to maintain focus
                setTimeout(() => zenodoPassword.focus(), 0);
            });
            
            // Clear any existing tokens on page load to ensure fresh verification
            sessionStorage.removeItem('zenodoOneTimeAccess');
            
            // Deferred analytics - only load after everything else
            window.addEventListener('load', function() {
                setTimeout(function() {
                    var script = document.createElement('script');
                    script.src = 'https://www.googletagmanager.com/gtag/js?id=G-DQXH7NP5Z2';
                    script.async = true;
                    document.head.appendChild(script);
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());
                    gtag('config', 'G-DQXH7NP5Z2');
                }, 3000);
            });
        });
    </script>
</body>
</html>