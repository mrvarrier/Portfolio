<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="sWxVOxFb1Bz0dk1wHesjJvt12wcUPQ036TOO1C-N00Y">

    <!-- Umami analytics-->
    <script defer src="https://umami-indol-ten.vercel.app/script.js" data-website-id="d3cc2551-fce3-4cad-af90-4e20b2b74e8a"></script>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="cc5f2797-46b4-4f12-8a2a-356776f8e5ef"></script>
    
    <!-- Favicon - Preload critical icons -->
    <link rel="preload" href="icon/favicon-32x32.png" as="image" type="image/png">  
    <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
    <link rel="manifest" href="icon/site.webmanifest">

    <meta name="description" content="Manish Varrier | UX Designer & Researcher combining technical expertise with human-centered design. Portfolio showcasing user research, digital product design, and engineering-informed UX solutions.">

    <title>Manish - UX Designer & Researcher</title>
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    
    <!-- Preload critical fonts with font-display:swap -->
    <link rel="preload" as="font" href="https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7.woff2" type="font/woff2" crossorigin>
    
    <!-- Preload hero images -->
    <link rel="preload" as="image" href="images/index/zenodo.webp">
    
    <!-- Load non-critical CSS with low priority -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    
    <!-- Cache control handled by server configuration -->
    
    <!-- Inline critical Font Awesome icons instead of loading the entire library -->
    <style>
        @font-face {
            font-family: 'FontAwesome';
            font-display: swap;
            src: url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/webfonts/fa-brands-400.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        .fab {
            font-family: 'FontAwesome';
        }
        @font-face {
            font-family: 'FontAwesomeRegular';
            font-display: swap;
            src: url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/webfonts/fa-regular-400.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        .far {
            font-family: 'FontAwesomeRegular';
        }

        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }

        /* Typewriter font class */
        .lucida-typewriter {
            font-family: 'Lucida Sans Typewriter', 'Courier New', monospace;
            font-weight: normal;
        }

        body {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #fff;
            overflow-x: hidden;
        }

        .content-wrapper {
            padding: 0 5px 0 100px;
            position: relative;
        }

        /* Header section */
        header {
            margin-top: 165px;
            margin-bottom: 140px;
            position: relative;
        }

        /* Navigation - sticky with backdrop */
        nav {
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: all 0.3s ease;
            border-bottom: 1px solid transparent;
        }
        
        .nav-container {
            display: flex;
            justify-content: flex-end;
            padding: 30px 30px 10px 0;
            max-width: 1280px;
            margin: 0 auto;
        }
        
        nav.scrolled {
            background-color: rgba(255, 255, 255, 0.98);
            border-bottom: 1px solid #f0f0f0;
        }

        .nav-container a {
            margin-left: 50px;
            text-decoration: none;
            color: #000;
            font-size: 16px;
            font-family: 'Lucida Sans Typewriter', 'Courier New', monospace;
            font-weight: normal;
            position: relative;
        }

        .nav-container a::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 1px;
            bottom: -3px;
            left: 0;
            background-color: #000;
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.4s ease;
        }

        .nav-container a:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }

        /* Title with subtle reveal animation - maintaining original appearance */
        .title {
            font-size: 56px;
            line-height: 1.2;
            margin-bottom: 10px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards;
            font-weight: normal;
        }

        .title:nth-child(2) {
            animation-delay: 0.3s;
        }

        /* Subtitle with subtle animation */
        .subtitle {
            margin-top: 20px;
            max-width: 600px;
            font-size: 16px;
            line-height: 1.5;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards 0.6s;
        }

        /* Social links */
        .social-links {
            display: flex;
            margin-top: 40px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards 0.6s;
        }

        .social-links a {
            width: 24px;
            height: 24px;
            background-color: #000;
            border-radius: 50%;
            margin-right: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            text-decoration: none;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .social-links a:hover {
            transform: translateY(-3px);
            background-color: #333;
        }

        .disabled-link {
            display: inline-block;
            color: #888;
            text-decoration: none;
            cursor: not-allowed;
            opacity: 0.7;
            pointer-events: none;
            font-weight: 500;
        }

        /* Work section */
        .work-section h2 {
            font-size: 42px;
            margin-bottom: 50px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s forwards 0.8s;
            font-weight: normal;
        }

        /* Enhanced case studies with more sophisticated interactions */
        .case-studies {
            display: flex;
            flex-direction: column;
            gap: 100px;
            margin-bottom: 140px;
        }

        .case-study {
            display: flex;
            gap: 70px;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 2s cubic-bezier(0.16, 1, 0.3, 1), 
                        transform 2s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
        }

        .case-study.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .case-study-img {
            border-radius: 15px;
            width: 500px;
            height: 300px;
            background-color: #ddd;
            flex-shrink: 0;
            overflow: hidden;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            position: relative;
            display: block;
        }

        .case-study-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            transition: transform 0.6s ease;
        }

        .case-study-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .case-study-content h3 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .case-study-content p {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 25px;
            max-width: 460px;
        }

        .case-study-content a {
            color: #000;
            text-decoration: underline;
            font-size: 16px;
            font-weight: 500;
            position: relative;
            transition: all 0.3s ease;
            padding-right: 25px;
            display: inline-block;
        }

        .case-study-content a.with-arrow::after {
            content: "→";
            position: absolute;
            right: 0;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.3s ease;
        }

        .case-study-content a.with-arrow:hover {
            padding-right: 30px;
        }

        .case-study-content a.with-arrow:hover::after {
            opacity: 1;
            transform: translateX(0);
        }

        .case-study-content a.disabled-link::after {
            content: "";
        }

        .case-study.visible .case-study-content h3,
        .case-study.visible .case-study-content p,
        .case-study.visible .case-study-content a {
            opacity: 1;
        }

        .case-study:hover .case-study-img {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 0 20px 30px rgba(0,0,0,0.08);
        }

        .case-study:hover .case-study-img img {
            transform: scale(1.05);
        }

        .case-study:hover .case-study-img::before {
            background: rgba(0,0,0,0.02);
        }

        /* Enhanced Footer */
        footer {
            text-align: center;
            padding: 50px 0;
            font-size: 14px;
            color: #666;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards 0.3s;
        }

        /* Enhanced Animations */
        @keyframes revealFromBottom {
            0% {
                opacity: 0;
                transform: translateY(40px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes lineDrawIn {
            0% {
                transform: scaleX(0);
            }
            100% {
                transform: scaleX(1);
            }
        }

        /* Parallax effect for case study elements */
        .parallax {
            transition: transform 0.2s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        /* Subtle text reveal animation for case studies */
        @keyframes textReveal {
            0% {
                clip-path: inset(0 100% 0 0);
            }
            100% {
                clip-path: inset(0 0 0 0);
            }
        }

        /* Cursor styles */
        .interactive {
            cursor: pointer;
        }

        /* Enhanced responsive styling */
        @media (max-width: 992px) {
            .case-study {
                flex-direction: column;
                gap: 40px;
            }
            
            .case-study-img {
                width: 100%;
                height: auto;
                aspect-ratio: 16/9;
            }
            
            .content-wrapper {
                padding: 0 20px 0 40px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 0 20px;
            }
            
            .content-wrapper {
                padding: 0 10px;
            }
            
            .title {
                font-size: 42px;
            }
            
            .work-section h2 {
                font-size: 32px;
                margin-bottom: 50px;
            }
            
            .nav-container {
                padding: 20px 20px 10px 0;
            }
            
            .nav-container a {
                margin-left: 30px;
            }
        }

        @media (max-width: 576px) {
            .nav-container {
                justify-content: center;
            }
            
            .title {
                font-size: 32px;
            }
            
            .case-studies {
                gap: 60px;
            }
        }

        /* Minimal Font Awesome icons */
        .fab, .far {
            display: inline-block;
            font-style: normal !important;
            font-variant: normal;
            text-rendering: auto;
            line-height: 1;
        }
        .fab.fa-linkedin-in:before { content: "\f0e1"; }
        .far.fa-envelope:before { content: "\f0e0"; }
        .fab.fa-instagram:before { content: "\f16d"; }
        
        /* Skip to main content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            z-index: 1001;
            background: #000;
            color: #fff;
            padding: 8px 16px;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            transition: top 0.3s ease;
        }
        
        .skip-link:focus {
            top: 6px;
        }

        /* Password Modal Styles */
        .password-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s cubic-bezier(0.16, 1, 0.3, 1), 
                       visibility 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .password-modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .password-modal-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
            max-width: 480px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(30px) scale(0.95);
            transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .password-modal-overlay.show .password-modal-container {
            transform: translateY(0) scale(1);
        }

        .password-modal-header {
            display: flex;
            align-items: center;
            padding: 30px 30px 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .lock-icon-container {
            margin-right: 15px;
        }

        .lock-icon {
            font-size: 24px;
            opacity: 0.8;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            color: #000;
            margin: 0;
            flex: 1;
        }

        .modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            color: #666;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .modal-close-btn:hover {
            background-color: rgba(0, 0, 0, 0.05);
            color: #000;
        }

        .password-modal-body {
            padding: 30px;
        }

        .modal-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 30px;
            font-size: 16px;
        }

        .password-form {
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .password-label {
            display: block;
            font-weight: 500;
            color: #000;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .password-input-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .password-input {
            width: 100%;
            padding: 14px 50px 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        }

        .password-input:focus {
            outline: none;
            border-color: #000;
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
        }

        .password-input.error {
            border-color: #ef4444;
            background-color: #fef2f2;
        }

        .toggle-password-btn {
            position: absolute;
            right: 12px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: background-color 0.3s ease;
        }

        .toggle-password-btn:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .eye-icon {
            font-size: 18px;
            opacity: 0.7;
        }

        .error-message {
            margin-top: 10px;
            padding: 12px 16px;
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .error-message.show {
            opacity: 1;
            transform: translateY(0);
        }

        .error-text {
            color: #dc2626;
            font-size: 14px;
            font-weight: 500;
        }

        .password-submit-btn {
            width: 100%;
            padding: 16px;
            background: #000;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .password-submit-btn:hover:not(:disabled) {
            background: #333;
            transform: translateY(-2px);
        }

        .password-submit-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        .btn-text {
            display: inline-block;
            transition: opacity 0.3s ease;
        }

        .loading-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .password-submit-btn.loading .btn-text {
            opacity: 0;
        }

        .password-submit-btn.loading .loading-spinner {
            opacity: 1;
        }

        .spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .loading-text {
            font-size: 14px;
            font-weight: 500;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .modal-footer {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        .contact-info {
            font-size: 14px;
            color: #666;
        }

        .contact-info a {
            color: #000;
            text-decoration: underline;
            font-weight: 500;
        }

        .contact-info a:hover {
            color: #333;
        }

        /* Shake animation for error feedback */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .password-input.shake {
            animation: shake 0.5s ease-in-out;
        }

        /* Modal responsive styles */
        @media (max-width: 768px) {
            .password-modal-overlay {
                padding: 10px;
            }
            
            .password-modal-container {
                border-radius: 16px;
                max-height: 95vh;
            }
            
            .password-modal-header {
                padding: 20px 20px 15px;
            }
            
            .modal-title {
                font-size: 20px;
            }
            
            .password-modal-body {
                padding: 20px;
            }
            
            .modal-description {
                font-size: 15px;
            }
        }

        @media (max-width: 480px) {
            .password-modal-header {
                padding: 15px 15px 12px;
            }
            
            .modal-title {
                font-size: 18px;
            }
            
            .password-modal-body {
                padding: 15px;
            }
            
            .password-input {
                padding: 12px 45px 12px 14px;
                font-size: 15px;
            }
            
            .password-submit-btn {
                padding: 14px;
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav id="main-nav">
        <div class="nav-container">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="https://drive.google.com/file/d/1ec6Qcfl3B0VG4Ji8NpmA2c67Ycz5I9cV/view?usp=sharing" target="_blank">Resume</a>
        </div>
    </nav>
    
    <div class="content-wrapper">
        <!-- Header section -->
        <header id="home">
            <h1 class="title lucida-typewriter">Hi</h1>
            <h1 class="title lucida-typewriter">I'm Manish</h1>
            <p class="subtitle">I am a UX Designer with the unique ability to translate business requirements into elegant solutions that developers love to build.</p>
            
            <!-- Social links -->
            <div class="social-links">
                <a href="https://linkedin.com/in/manish-varrier" target="_blank" rel="noopener" title="LinkedIn"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
                <a href="mailto:manishvarrier@gmail.com" title="Email"><i class="far fa-envelope" aria-hidden="true"></i></a>
                <a href="https://instagram.com/_manishr_" target="_blank" rel="noopener" title="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
            </div>
        </header>

        <!-- Main content -->
        <main id="main-content">
            <!-- Work section -->
            <section class="work-section">
                <h2 class="lucida-typewriter">I've worked on</h2>
                
                <div class="case-studies">
                    <!-- Case study 1 - Zenodo -->
                    <div class="case-study">
                        <a href="#" class="case-study-img" onclick="openPasswordModal('zenodo'); return false;" aria-label="Zenodo case study - Password protected">
                            <img src="images/index/zenodo.webp" alt="Zenodo" width="500" height="300">
                        </a>
                        <div class="case-study-content">
                            <h3>Zenodo</h3>
                            <p>Designed and implemented a Zenodo archival integration for the Correlate system, enabling seamless research data publishing to meet European consortium requirements. Conducted technical API assessments, built custom publishing workflows supporting both draft and direct publication paths, and created an intuitive metadata input interface.</p>
                            <a href="#" class="interactive with-arrow" onclick="openPasswordModal('zenodo'); return false;" aria-label="Zenodo case study - Password protected">🔒 Password Protected</a>
                        </div>
                    </div>

                    <!-- Case study 2 - Empathly -->
                    <div class="case-study">
                        <a href="empathly.html" class="case-study-img">
                            <img src="images/index/empathly.webp" alt="Empath.ly" width="500" height="300" loading="lazy" decoding="async">
                        </a>
                        <div class="case-study-content">
                            <h3>Empath.ly</h3>
                            <p>Designed a video conferencing app with integrated emotional analytics, helping HR and marketing teams track emotional dynamics during meetings. Created a scannable dashboard for quick insights, leading to first place at HackHarvard 2022.</p>
                            <a href="empathly.html" class="interactive with-arrow">View Case Study</a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 Manish. All rights reserved. | <a href="privacy.html" style="color: #666; text-decoration: underline;">Privacy Policy</a></p>
        </footer>
    </div>

    <!-- Password Protection Modal -->
    <div id="passwordModal" class="password-modal-overlay" hidden>
        <div class="password-modal-container">
            <div class="password-modal-header">
                <div class="lock-icon-container">
                    <span class="lock-icon">🔒</span>
                </div>
                <h3 class="modal-title">Password Protected Content</h3>
                <button class="modal-close-btn" onclick="closePasswordModal()" aria-label="Close modal">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            
            <div class="password-modal-body">
                <p class="modal-description">
                    This case study contains confidential client information and requires a password to access. Please contact me directly for access credentials.
                </p>
                
                <form class="password-form" onsubmit="handlePasswordSubmit(event)">
                    <div class="form-group">
                        <label for="caseStudyPassword" class="password-label">Password</label>
                        <div class="password-input-container">
                            <input 
                                type="password" 
                                id="caseStudyPassword" 
                                name="password" 
                                class="password-input"
                                placeholder="Enter password"
                                required
                                autocomplete="current-password"
                            >
                            <button 
                                type="button" 
                                class="toggle-password-btn" 
                                onclick="togglePasswordVisibility()"
                                aria-label="Toggle password visibility"
                            >
                                <span class="eye-icon">👁️</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="error-message" id="passwordError" hidden>
                        <span class="error-text">Incorrect password. Please try again or contact me for access.</span>
                    </div>
                    
                    <button type="submit" class="password-submit-btn" id="passwordSubmitBtn">
                        <span class="btn-text">Access Content</span>
                        <span class="loading-spinner" hidden>
                            <span class="spinner"></span>
                            <span class="loading-text">Verifying...</span>
                        </span>
                    </button>
                </form>
                
                <div class="modal-footer">
                    <p class="contact-info">
                        This case study is password protected. <a href="mailto:manishvarrier@gmail.com">Email</a> me or message me on <a href="https://linkedin.com/in/manish-varrier" target="_blank" rel="noopener">LinkedIn</a> for access.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Password Modal Functions
        function openPasswordModal(caseStudy) {
            const modal = document.getElementById('passwordModal');
            const passwordInput = document.getElementById('caseStudyPassword');
            const errorMessage = document.getElementById('passwordError');
            const submitBtn = document.getElementById('passwordSubmitBtn');
            
            // Reset modal state
            passwordInput.value = '';
            passwordInput.classList.remove('error', 'shake');
            errorMessage.classList.remove('show');
            errorMessage.hidden = true;
            submitBtn.classList.remove('loading');
            submitBtn.disabled = false;
            
            // Show modal
            modal.hidden = false;
            // Force reflow
            modal.offsetHeight;
            modal.classList.add('show');
            
            // Focus on password input after animation
            setTimeout(() => {
                passwordInput.focus();
            }, 300);
            
            // Handle escape key
            document.addEventListener('keydown', handleEscapeKey);
            
            // Prevent body scroll
            document.body.style.overflow = 'hidden';
        }
        
        function closePasswordModal() {
            const modal = document.getElementById('passwordModal');
            
            modal.classList.remove('show');
            
            // Hide modal after animation
            setTimeout(() => {
                modal.hidden = true;
                document.body.style.overflow = '';
                document.removeEventListener('keydown', handleEscapeKey);
            }, 300);
        }
        
        function handleEscapeKey(event) {
            if (event.key === 'Escape') {
                closePasswordModal();
            }
        }
        
        function togglePasswordVisibility() {
            const passwordInput = document.getElementById('caseStudyPassword');
            const eyeIcon = document.querySelector('.eye-icon');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                eyeIcon.textContent = '🙈';
            } else {
                passwordInput.type = 'password';
                eyeIcon.textContent = '👁️';
            }
        }
        
        function handlePasswordSubmit(event) {
            event.preventDefault();
            
            const passwordInput = document.getElementById('caseStudyPassword');
            const errorMessage = document.getElementById('passwordError');
            const submitBtn = document.getElementById('passwordSubmitBtn');
            const btnText = submitBtn.querySelector('.btn-text');
            const loadingSpinner = submitBtn.querySelector('.loading-spinner');
            
            // Clear previous errors
            passwordInput.classList.remove('error', 'shake');
            errorMessage.classList.remove('show');
            errorMessage.hidden = true;
            
            // Get password value
            const password = passwordInput.value.trim();
            
            // Basic validation
            if (!password) {
                showPasswordError('Please enter a password.');
                return;
            }
            
            // Show loading state
            submitBtn.classList.add('loading');
            submitBtn.disabled = true;
            btnText.style.opacity = '0';
            loadingSpinner.hidden = false;
            loadingSpinner.style.opacity = '1';
            
            // Simulate authentication delay (2-3 seconds)
            const authDelay = Math.random() * 1000 + 2000; // 2-3 seconds
            
            setTimeout(() => {
                // All passwords are wrong - this is the intended behavior
                handlePasswordError();
                
                // Reset loading state
                submitBtn.classList.remove('loading');
                submitBtn.disabled = false;
                btnText.style.opacity = '1';
                loadingSpinner.style.opacity = '0';
                setTimeout(() => {
                    loadingSpinner.hidden = true;
                }, 300);
                
            }, authDelay);
        }
        
        function handlePasswordError() {
            const passwordInput = document.getElementById('caseStudyPassword');
            const errorMessage = document.getElementById('passwordError');
            
            // Show error styling
            passwordInput.classList.add('error');
            
            // Show error message
            errorMessage.hidden = false;
            setTimeout(() => {
                errorMessage.classList.add('show');
            }, 50);
            
            // Add shake animation
            passwordInput.classList.add('shake');
            setTimeout(() => {
                passwordInput.classList.remove('shake');
            }, 500);
            
            // Focus back on password input
            passwordInput.focus();
            passwordInput.select();
        }
        
        function showPasswordError(message) {
            const passwordInput = document.getElementById('caseStudyPassword');
            const errorMessage = document.getElementById('passwordError');
            const errorText = errorMessage.querySelector('.error-text');
            
            errorText.textContent = message;
            passwordInput.classList.add('error');
            
            errorMessage.hidden = false;
            setTimeout(() => {
                errorMessage.classList.add('show');
            }, 50);
            
            passwordInput.focus();
        }
        
        // Click outside modal to close
        document.addEventListener('click', function(event) {
            const modal = document.getElementById('passwordModal');
            const modalContainer = document.querySelector('.password-modal-container');
            
            if (modal && !modal.hidden && modal.classList.contains('show')) {
                if (event.target === modal && !modalContainer.contains(event.target)) {
                    closePasswordModal();
                }
            }
        });
        
        // Enhanced keyboard navigation
        document.addEventListener('keydown', function(event) {
            const modal = document.getElementById('passwordModal');
            
            if (modal && !modal.hidden && modal.classList.contains('show')) {
                const focusableElements = modal.querySelectorAll(
                    'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                );
                const firstFocusableElement = focusableElements[0];
                const lastFocusableElement = focusableElements[focusableElements.length - 1];
                
                if (event.key === 'Tab') {
                    if (event.shiftKey) {
                        // Shift + Tab
                        if (document.activeElement === firstFocusableElement) {
                            lastFocusableElement.focus();
                            event.preventDefault();
                        }
                    } else {
                        // Tab
                        if (document.activeElement === lastFocusableElement) {
                            firstFocusableElement.focus();
                            event.preventDefault();
                        }
                    }
                }
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Initialize scroll position for navigation effects
                let lastScrollTop = 0;
                const nav = document.getElementById('main-nav');
                
                // Validate nav element exists before proceeding
                if (!nav) {
                    console.warn('Navigation element not found, skipping scroll effects');
                    return;
                }
                
                // Enhanced scroll handling for nav appearance/disappearance
                window.addEventListener('scroll', function() {
                    try {
                        const st = window.pageYOffset || document.documentElement.scrollTop;
                        
                        // Control nav visibility based on scroll direction
                        if (st > 100) {
                            nav.classList.add('scrolled');
                            if (st > lastScrollTop && st > 300) {
                                // Scrolling down
                                nav.classList.add('hidden');
                            } else {
                                // Scrolling up
                                nav.classList.remove('hidden');
                            }
                        } else {
                            nav.classList.remove('scrolled');
                        }
                        
                        lastScrollTop = st <= 0 ? 0 : st;
                    } catch (error) {
                        console.warn('Scroll handler error:', error);
                    }
                }, false);
            
                // Intersection Observer for case study animations with enhanced options
                if ('IntersectionObserver' in window) {
                    try {
                        const caseObserver = new IntersectionObserver((entries) => {
                            try {
                                entries.forEach(entry => {
                                    if (entry.isIntersecting && entry.target) {
                                        entry.target.classList.add('visible');
                                        // Staggered animation of child elements happens via CSS transitions
                                    }
                                });
                            } catch (error) {
                                console.warn('Intersection Observer callback error:', error);
                            }
                        }, { 
                            threshold: 0.1, 
                            rootMargin: "0px 0px -100px 0px" 
                        });

                        const caseStudies = document.querySelectorAll('.case-study');
                        if (caseStudies.length > 0) {
                            caseStudies.forEach(caseStudy => {
                                if (caseStudy) {
                                    caseObserver.observe(caseStudy);
                                }
                            });
                        }
                    } catch (error) {
                        console.warn('Intersection Observer initialization failed:', error);
                    }
                } else {
                    // Fallback for browsers without Intersection Observer
                    console.warn('Intersection Observer not supported, animations disabled');
                    const caseStudies = document.querySelectorAll('.case-study');
                    caseStudies.forEach(caseStudy => {
                        if (caseStudy) {
                            caseStudy.classList.add('visible');
                        }
                    });
                }
                
                // Preload images for smoother transitions
                function preloadImages() {
                    try {
                        const images = document.querySelectorAll('img');
                        images.forEach(img => {
                            try {
                                if (img && img.getAttribute('loading') !== 'lazy') {
                                    const src = img.getAttribute('src');
                                    if (src) {
                                        const imageObj = new Image();
                                        imageObj.src = src;
                                    }
                                }
                            } catch (error) {
                                console.warn('Image preload error:', error);
                            }
                        });
                    } catch (error) {
                        console.warn('Image preloading failed:', error);
                    }
                }
                
                preloadImages();
            } catch (error) {
                console.warn('Main application initialization error:', error);
            }
        });
    </script>

    <!-- Distinct ID Umami Analytics -->
    <script>
        // Minimal Distinct ID for Umami Analytics
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Wait for Umami to load
                if (typeof umami !== 'undefined') {

                    // Tracking for UTM Source
                    const params  = new URLSearchParams(window.location.search);
                    const source  = params.get('utm_source');
                    const medium  = params.get('utm_medium') || 'unknown';
                    if (source)  umami.track(`UTM • ${source} • ${medium}`);

                    setDistinctId();
                } else {
                    let checkAttempts = 0;
                    const maxAttempts = 50; // Max 5 seconds
                    
                    const checkUmami = setInterval(() => {
                        checkAttempts++;
                        
                        if (typeof umami !== 'undefined') {
                            clearInterval(checkUmami);
                            setDistinctId();
                        } else if (checkAttempts >= maxAttempts) {
                            clearInterval(checkUmami);
                            console.warn('Umami analytics failed to load after 5 seconds');
                        }
                    }, 100);
                }
            } catch (error) {
                console.warn('Analytics initialization error:', error);
            }
        });

        function setDistinctId() {
            try {
                // Check if localStorage is available (privacy mode, etc.)
                if (typeof Storage === 'undefined') {
                    console.warn('localStorage not available, skipping visitor ID');
                    return;
                }
                
                // Get or create visitor ID
                let visitorId = null;
                
                try {
                    visitorId = localStorage.getItem('portfolio_visitor_id');
                } catch (error) {
                    console.warn('Failed to access localStorage:', error);
                    return;
                }
                
                if (!visitorId) {
                    try {
                        visitorId = 'visitor_' + Date.now() + '_' + Math.random().toString(36).substring(2, 11);
                        localStorage.setItem('portfolio_visitor_id', visitorId);
                    } catch (error) {
                        console.warn('Failed to set visitor ID:', error);
                        return;
                    }
                }
                
                // Set the distinct ID for this visitor
                if (typeof umami !== 'undefined' && typeof umami.identify === 'function') {
                    umami.identify(visitorId);
                } else {
                    console.warn('Umami identify function not available');
                }
            } catch (error) {
                console.warn('Visitor ID setup error:', error);
            }
        }
    </script>

    <!-- Efficient Time on Page Tracking -->
    <script>
        // Performance-optimized time tracking using visibilitychange API
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // Check if required APIs are available
                if (typeof document.visibilityState === 'undefined') {
                    console.warn('Page Visibility API not supported, time tracking disabled');
                    return;
                }
                
                let pageStartTime = Date.now();
                let totalActiveTime = 0;
                let lastActiveTime = Date.now();
                let isPageActive = true;
                let hasTracked = false;
                
                // Track when page becomes hidden/visible (tab switching, minimizing, closing)
                document.addEventListener('visibilitychange', function() {
                    try {
                        if (document.visibilityState === 'hidden') {
                            // Page became hidden - calculate total active time
                            if (isPageActive) {
                                const currentTime = Date.now();
                                const sessionTime = currentTime - lastActiveTime;
                                
                                // Validate time calculation
                                if (sessionTime > 0 && sessionTime < 3600000) { // Max 1 hour session
                                    totalActiveTime += sessionTime;
                                    isPageActive = false;
                                    
                                    // Only track if user spent meaningful time (> 3 seconds) and hasn't been tracked yet
                                    if (totalActiveTime > 3000 && totalActiveTime < 3600000 && !hasTracked) {
                                        // Use setTimeout to defer tracking to next tick (non-blocking)
                                        setTimeout(() => {
                                            try {
                                                if (typeof umami !== 'undefined' && typeof umami.track === 'function') {
                                                    umami.track('time_on_page', {
                                                        page: 'index',
                                                        duration_seconds: Math.round(totalActiveTime / 1000),
                                                        total_time_ms: totalActiveTime
                                                    });
                                                    hasTracked = true;
                                                } else {
                                                    console.warn('Umami tracking not available');
                                                }
                                            } catch (e) {
                                                console.warn('Time tracking failed:', e);
                                            }
                                        }, 0);
                                    }
                                }
                            }
                        } else if (document.visibilityState === 'visible') {
                            // Page became visible again - reset active time tracking
                            lastActiveTime = Date.now();
                            isPageActive = true;
                        }
                    } catch (error) {
                        console.warn('Visibility change handler error:', error);
                    }
                });
                
                // Optional: Track on window focus/blur as additional fallback
                window.addEventListener('blur', function() {
                    try {
                        if (isPageActive) {
                            const currentTime = Date.now();
                            const sessionTime = currentTime - lastActiveTime;
                            
                            if (sessionTime > 0 && sessionTime < 3600000) {
                                totalActiveTime += sessionTime;
                                isPageActive = false;
                            }
                        }
                    } catch (error) {
                        console.warn('Blur handler error:', error);
                    }
                });
                
                window.addEventListener('focus', function() {
                    try {
                        if (!isPageActive) {
                            lastActiveTime = Date.now();
                            isPageActive = true;
                        }
                    } catch (error) {
                        console.warn('Focus handler error:', error);
                    }
                });
            } catch (error) {
                console.warn('Time tracking initialization error:', error);
            }
        });
    </script>

</body>
</html>